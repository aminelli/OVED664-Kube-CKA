#!/bin/bash

# Verfica del token salvato come secret

microk8s kubectl get secret admin-user-secret -n default -o jsonpath="{.data.token}" | base64 -d

# rigenerazione token
# eyJhbGciOiJSUzI1NiIsImtpZCI6InU5ZU1qc29pQXJKdktNdEdIT0hnN3F6UG4wT0tiYTZXZVgxTDVRamt5THcifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjIl0sImV4cCI6MTc1MjU5MjIxNiwiaWF0IjoxNzUyNTg4NjE2LCJpc3MiOiJodHRwczovL2t1YmVybmV0ZXMuZGVmYXVsdC5zdmMiLCJqdGkiOiJlNWNhMzJiNi1hYTZhLTQzYmItOGVkMS1hNWExZjZlNjkwZGMiLCJrdWJlcm5ldGVzLmlvIjp7Im5hbWVzcGFjZSI6ImRlZmF1bHQiLCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiYWRtaW4tdXNlciIsInVpZCI6IjAxMzMxNzA1LTQxYWMtNGNiMy04MGIzLThkMDJlNGFjMDhmYyJ9fSwibmJmIjoxNzUyNTg4NjE2LCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZGVmYXVsdDphZG1pbi11c2VyIn0.IB2PbnYfkT_JJhQe6ZTsUWr4dPzlow8EX105T3fp_7KZVkg_EYcIhNBB7kxwzl48dXMqwO3wtfOEfyGS1lXbPH0AVpADoMoo5fgvoflAS91xd_hx6MhT4VVolijHj478tUDYPIroy2rLsGsgjXItqEPOvZGHYgrIvJ0LXrTEwtORKXOYbxp9uxUu1zH49O1DY8VBcdeiFfdQu9VN_jjdA_1x9NPckpIKMTL0i5CCxsBHs79HzKzGrAHzfPrnDeZd9q6XcXtgODxCBVpkOxa4ygwh4VHK1JgI3U8Md5ltGm71Vm_MIDR-IOhM09_L88bjlIgYmVsCbSgcJ8ZOUSNQWA
# Token del secret
# eyJhbGciOiJSUzI1NiIsImtpZCI6InU5ZU1qc29pQXJKdktNdEdIT0hnN3F6UG4wT0tiYTZXZVgxTDVRamt5THcifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiYWRtaW4tdXNlciIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjAxMzMxNzA1LTQxYWMtNGNiMy04MGIzLThkMDJlNGFjMDhmYyIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmFkbWluLXVzZXIifQ.5Mp-YYUj9bOHE4j-U6gGEH57Tz_z6L_BA8NC2qCjyASFoKqSt-yNbmasYr3Rw8ajVYCXWF0JVtFmGIpV4iqjpjQIJVAjr1iqiYAs7E7PTcJA9OtwuMdJO0D2z_eWMTmXR06E29heZWhCaqGeoaYP9bY3LZQsRmrKqrzYNDF4mB6KweL5noYq8_RVs98SxfxGfQ4ncPqTjJJjcBrblcL3La232C4OqwgiaD1-xQQOPbCPRcfxqBHGnM-aS7nAE9uEnTvUVIsC2IvJG_eB_MnmCaAHL4F9_dH0aGRCkcXa7gD6ZoiE74APCjOudtla2AEdHSX9OAnYOJtKONiVv6gQUwc